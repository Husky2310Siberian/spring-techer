<!DOCTYPE html>
<html>
<head>
    <title>Paginated Students List</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/students.css}">
</head>
<body>
<div th:replace="~{fragments/header :: headerFragment}"></div>

<h1>Students List</h1>

<div class="main-content">
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>UUID</th>
            <th>Firstname</th>
            <th>Lastname</th>
            <th>Identity Number</th>
            <th>Program</th>
        </tr>
        </thead>
        <tbody>
        <!-- Iterate over the content of the current page -->
        <tr th:each="student : ${studentPage.content}">
            <td th:text="${student.id}"></td>
            <td th:text="${student.uuid}"></td>
            <td th:text="${student.firstname}"></td>
            <td th:text="${student.lastname}"></td>
            <td th:text="${student.identityNumber}"></td>
            <td th:text="${student.program}"></td>
        </tr>
        </tbody>
    </table>

    <div class="pagination-controls">
        <!-- Link to first page (disabled if already on the first page) -->
        <a th:if="${currentPage > 0}" th:href="@{/school/students(page=0, size=${studentPage.size})}">&laquo; First</a>
        <span th:if="${currentPage == 0}" class="disabled">&laquo; First</span>

        <!-- Link to previous page (disabled if already on the first page) -->
        <a th:if="${currentPage > 0}" th:href="@{/school/students(page=${currentPage - 1}, size=${studentPage.size})}">&lsaquo; Prev</a>
        <span th:if="${currentPage == 0}" class="disabled">&lsaquo; Prev</span>

        <!-- Display current page / total pages -->
        <span th:text="${currentPage + 1} + ' / ' + ${totalPages}"></span>

        <!-- Link to next page (disabled if on the last page) -->
        <a th:if="${currentPage + 1 < totalPages}" th:href="@{/school/students(page=${currentPage + 1}, size=${studentPage.size})}">Next &rsaquo;</a>
        <span th:if="${currentPage + 1 == totalPages}" class="disabled">Next &rsaquo;</span>

        <!-- Link to last page (disabled if already on the last page) -->
        <a th:if="${currentPage + 1 < totalPages}" th:href="@{/school/students(page=${totalPages - 1}, size=${studentPage.size})}">Last &raquo;</a>
        <span th:if="${currentPage + 1 == totalPages}" class="disabled">Last &raquo;</span>
    </div>
</div>




<div th:replace="~{fragments/footer :: footerFragment}"></div>
</body>
</html>